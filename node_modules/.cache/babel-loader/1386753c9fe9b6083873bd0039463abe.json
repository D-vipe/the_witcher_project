{"ast":null,"code":"var _jsxFileName = \"/Users/d-vipe/WebstormProjects/the_witcher_hierarchy/src/components/rosterScreen/RosterScreen.js\";\nimport React from 'react';\nimport OptionItem from '../optionItem/OptionItem';\nimport { Link } from 'react-router-dom';\nimport './RoasterScreen.sass';\n\nclass RosterScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectElements: {},\n      parentId: null\n    };\n  }\n\n  componentDidMount() {\n    let allData = this.props.allData,\n        targetId = this.props.match.params.targetId,\n        parentId,\n        elements;\n    parentId = this.getParentId(allData);\n    elements = this.getCurrentElements(allData, parentId, targetId);\n    this.setState({\n      selectElements: elements,\n      parentId: parentId\n    });\n    console.log('did mount');\n  }\n\n  getParentId(data, targetId) {\n    let parentId = null;\n    data.forEach(item => {\n      if (item.id === parseInt(targetId)) {\n        parentId = item.id;\n      }\n    });\n    return parentId;\n  }\n\n  getCurrentElements(data, parentId, targetId) {\n    let elements = {\n      target: {},\n      neighbours: [],\n      children: []\n    };\n    data.forEach(item => {\n      if (item.id === parseInt(targetId)) {\n        elements.target = item;\n      }\n\n      if (parentId === null) {\n        if (item.parent === undefined) {\n          elements.neighbours.push(item);\n        }\n      } else {\n        if (item.parent === parseInt(parentId)) {\n          elements.neighbours.push(item);\n        }\n      }\n\n      if (item.parent === parseInt(targetId)) {\n        elements.children.push(item);\n      }\n    });\n    return elements;\n  }\n\n  getImageUrl(img_url) {\n    try {\n      return require('../../images/' + img_url);\n    } catch (err) {\n      return '../../images/fakeImage.jpg';\n    }\n  }\n\n  render() {\n    let targetId = this.props.match.params.targetId;\n    console.log(targetId);\n    console.log(this.state);\n    console.log(this.state.selectElements.target.image);\n    return React.createElement(\"div\", {\n      className: \"roster-screen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 d-flex align-items-top justify-content-start\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"linkButton\",\n      to: '/hierarchy/',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Back\")), React.createElement(\"div\", {\n      className: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navigation-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navigation-block__controls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"navigation-link__left\",\n      to: '/hierarchy/1',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"target-logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(Link, {\n      className: \"navigation-link__right\",\n      to: '/hierarchy/2',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"curr-target-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-2 d-flex align-items-top justify-content-end\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"homeButton\",\n      to: '/',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default RosterScreen;","map":{"version":3,"sources":["/Users/d-vipe/WebstormProjects/the_witcher_hierarchy/src/components/rosterScreen/RosterScreen.js"],"names":["React","OptionItem","Link","RosterScreen","Component","constructor","props","state","selectElements","parentId","componentDidMount","allData","targetId","match","params","elements","getParentId","getCurrentElements","setState","console","log","data","forEach","item","id","parseInt","target","neighbours","children","parent","undefined","push","getImageUrl","img_url","require","err","render","image"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OptionItem from '../optionItem/OptionItem';\nimport { Link } from 'react-router-dom';\nimport './RoasterScreen.sass'\n\nclass RosterScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectElements: {},\n      parentId: null\n    }\n  }\n  componentDidMount() {\n    let allData = this.props.allData,\n        targetId = this.props.match.params.targetId,\n        parentId,\n        elements;\n\n    parentId = this.getParentId(allData);\n    elements = this.getCurrentElements(allData, parentId, targetId);\n\n    this.setState({\n      selectElements: elements,\n      parentId: parentId\n    });\n    console.log('did mount');\n  }\n\n  getParentId(data, targetId) {\n    let parentId = null;\n    data.forEach(item => {\n      if (item.id === parseInt(targetId)) {\n        parentId = item.id;\n      }\n    });\n    return parentId;\n  }\n\n  getCurrentElements(data, parentId, targetId) {\n    let elements = {\n      target: {},\n      neighbours: [],\n      children: []\n    };\n    data.forEach(item => {\n      if (item.id === parseInt(targetId)) {\n        elements.target = item;\n      }\n      if (parentId === null) {\n        if (item.parent === undefined) {\n          elements.neighbours.push(item);\n        }\n      } else {\n        if (item.parent === parseInt(parentId)) {\n          elements.neighbours.push(item);\n        }\n      }\n\n      if (item.parent === parseInt(targetId)) {\n        elements.children.push(item);\n      }\n    });\n    return elements;\n  }\n\n  getImageUrl(img_url) {\n    try{\n      return require('../../images/' + img_url);\n    }\n    catch(err){\n      return '../../images/fakeImage.jpg';\n    }\n  }\n\n\n  render () {\n    let targetId = this.props.match.params.targetId;\n    console.log(targetId);\n    console.log(this.state);\n    console.log(this.state.selectElements.target.image);\n    return (\n      <div className=\"roster-screen\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-2 d-flex align-items-top justify-content-start\">\n              <Link className=\"linkButton\" to={'/hierarchy/'}>Back</Link>\n            </div>\n            <div className=\"col-8\">\n              <div className=\"navigation-block\">\n                <div className=\"navigation-block__controls\">\n                  <Link className=\"navigation-link__left\" to={'/hierarchy/1'}></Link>\n                  <div className=\"target-logo\">\n                    {/*<img src={this.getImageUrl(this.state.selectElements.target.image)} alt=\"pic\" className=\"topRowVassal\"/>*/}\n                  </div>\n                  <Link className=\"navigation-link__right\" to={'/hierarchy/2'}></Link>\n                </div>\n                <div className=\"curr-target-name\"></div>\n              </div>\n            </div>\n            <div className=\"col-2 d-flex align-items-top justify-content-end\">\n              <Link className=\"homeButton\" to={'/'}></Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default RosterScreen;\n"]},"metadata":{},"sourceType":"module"}